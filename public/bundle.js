var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function o(t){t.forEach(n)}function r(t){return"function"==typeof t}function c(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function l(n,e,o){n.$$.on_destroy.push(function(n,...e){if(null==n)return t;const o=n.subscribe(...e);return o.unsubscribe?()=>o.unsubscribe():o}(e,o))}function i(t,n){t.appendChild(n)}function u(t,n,e){t.insertBefore(n,e||null)}function s(t){t.parentNode.removeChild(t)}function a(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function f(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function h(){return d(" ")}function p(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function g(t){return function(n){return n.preventDefault(),t.call(this,n)}}function m(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function $(t,n){n=""+n,t.data!==n&&(t.data=n)}let b;function w(t){b=t}function v(){if(!b)throw new Error("Function called outside component initialization");return b}function y(){const t=v();return(n,e)=>{const o=t.$$.callbacks[n];if(o){const r=function(t,n){const e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}(n,e);o.slice().forEach(n=>{n.call(t,r)})}}}const x=[],k=[],E=[],_=[],C=Promise.resolve();let j=!1;function D(t){E.push(t)}let A=!1;const L=new Set;function N(){if(!A){A=!0;do{for(let t=0;t<x.length;t+=1){const n=x[t];w(n),S(n.$$)}for(x.length=0;k.length;)k.pop()();for(let t=0;t<E.length;t+=1){const n=E[t];L.has(n)||(L.add(n),n())}E.length=0}while(x.length);for(;_.length;)_.pop()();j=!1,A=!1,L.clear()}}function S(t){if(null!==t.fragment){t.update(),o(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(D)}}const T=new Set;let O;function P(){O={r:0,c:[],p:O}}function B(){O.r||o(O.c),O=O.p}function H(t,n){t&&t.i&&(T.delete(t),t.i(n))}function M(t,n,e,o){if(t&&t.o){if(T.has(t))return;T.add(t),O.c.push(()=>{T.delete(t),o&&(e&&t.d(1),o())}),t.o(n)}}const q="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function z(t){t&&t.c()}function F(t,e,c){const{fragment:l,on_mount:i,on_destroy:u,after_update:s}=t.$$;l&&l.m(e,c),D(()=>{const e=i.map(n).filter(r);u?u.push(...e):o(e),t.$$.on_mount=[]}),s.forEach(D)}function G(t,n){const e=t.$$;null!==e.fragment&&(o(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function I(t,n){-1===t.$$.dirty[0]&&(x.push(t),j||(j=!0,C.then(N)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function J(n,r,c,l,i,u,a=[-1]){const f=b;w(n);const d=r.props||{},h=n.$$={fragment:null,ctx:null,props:u,update:t,not_equal:i,bound:e(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:e(),dirty:a};let p=!1;if(h.ctx=c?c(n,d,(t,e,...o)=>{const r=o.length?o[0]:e;return h.ctx&&i(h.ctx[t],h.ctx[t]=r)&&(h.bound[t]&&h.bound[t](r),p&&I(n,t)),e}):[],h.update(),p=!0,o(h.before_update),h.fragment=!!l&&l(h.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);h.fragment&&h.fragment.l(t),t.forEach(s)}else h.fragment&&h.fragment.c();r.intro&&H(n.$$.fragment),F(n,r.target,r.anchor),N()}w(f)}class K{$destroy(){G(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(){}}class Q extends K{constructor(t){super(),J(this,t,null,null,c,{})}}function R(t,n,e){const o=t.slice();return o[3]=n[e],o}function U(t){let n,e,o,r=t[3]+"";return{c(){n=f("div"),e=d(r),o=h(),m(n,"class","mt-4 p-2 bg-red-400 break-all rounded")},m(t,r){u(t,n,r),i(n,e),i(n,o)},p(t,n){1&n&&r!==(r=t[3]+"")&&$(e,r)},d(t){t&&s(n)}}}function V(n){let e,o,r,c,l,b,w,v,y,x,k=n[0].name+"",E=n[0].pids,_=[];for(let t=0;t<E.length;t+=1)_[t]=U(R(n,E,t));return{c(){e=f("div"),o=f("div"),r=d(k),c=h(),l=f("div"),b=f("img"),v=h(),y=f("div");for(let t=0;t<_.length;t+=1)_[t].c();m(o,"class","w-full text-black"),b.src!==(w=W)&&m(b,"src",w),m(b,"alt","gauge"),m(l,"class","w-1/2 text-center mt-12"),m(y,"class","justify-center text-center px-2 w-1/2"),m(e,"class","flex content-center justify-between bg-white rounded flex-wrap")},m(t,s,a){u(t,e,s),i(e,o),i(o,r),i(e,c),i(e,l),i(l,b),i(e,v),i(e,y);for(let t=0;t<_.length;t+=1)_[t].m(y,null);a&&x(),x=p(e,"click",g(n[1]))},p(t,[n]){if(1&n&&k!==(k=t[0].name+"")&&$(r,k),1&n){let e;for(E=t[0].pids,e=0;e<E.length;e+=1){const o=R(t,E,e);_[e]?_[e].p(o,n):(_[e]=U(o),_[e].c(),_[e].m(y,null))}for(;e<_.length;e+=1)_[e].d(1);_.length=E.length}},i:t,o:t,d(t){t&&s(e),a(_,t),x()}}}let W="./gauge.png";function X(t,n,e){let{view:o}=n;const r=y();return t.$set=t=>{"view"in t&&e(0,o=t.view)},[o,function(t){r("redirect",{target:{pathname:"/view"},view:o.name})}]}class Y extends K{constructor(t){super(),J(this,t,X,V,c,{view:0})}}function Z(t,n,e){const o=t.slice();return o[4]=n[e],o}function tt(n){let e,o,r=n[3].message+"";return{c(){var t,n,c;e=f("p"),o=d(r),t="color",n="red",e.style.setProperty(t,n,c?"important":"")},m(t,n){u(t,e,n),i(e,o)},p:t,i:t,o:t,d(t){t&&s(e)}}}function nt(t){let n,e,o=t[2],r=[];for(let n=0;n<o.length;n+=1)r[n]=et(Z(t,o,n));const c=t=>M(r[t],1,1,()=>{r[t]=null});return{c(){for(let t=0;t<r.length;t+=1)r[t].c();n=d("")},m(t,o){for(let n=0;n<r.length;n+=1)r[n].m(t,o);u(t,n,o),e=!0},p(t,e){if(1&e){let l;for(o=t[2],l=0;l<o.length;l+=1){const c=Z(t,o,l);r[l]?(r[l].p(c,e),H(r[l],1)):(r[l]=et(c),r[l].c(),H(r[l],1),r[l].m(n.parentNode,n))}for(P(),l=o.length;l<r.length;l+=1)c(l);B()}},i(t){if(!e){for(let t=0;t<o.length;t+=1)H(r[t]);e=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)M(r[t]);e=!1},d(t){a(r,t),t&&s(n)}}}function et(n){let e;const o=new Y({props:{view:n[4]}});return o.$on("redirect",n[1]),{c(){z(o.$$.fragment)},m(t,n){F(o,t,n),e=!0},p:t,i(t){e||(H(o.$$.fragment,t),e=!0)},o(t){M(o.$$.fragment,t),e=!1},d(t){G(o,t)}}}function ot(n){let e;return{c(){e=f("p"),e.textContent="...Loading"},m(t,n){u(t,e,n)},p:t,i:t,o:t,d(t){t&&s(e)}}}function rt(t){let n,e,o,r,c,l,a,d,p={ctx:t,current:null,token:null,pending:ot,then:nt,catch:tt,value:2,error:3,blocks:[,,,]};return function(t,n){const e=n.token={};function o(t,o,r,c){if(n.token!==e)return;n.resolved=c;let l=n.ctx;void 0!==r&&(l=l.slice(),l[r]=c);const i=t&&(n.current=t)(l);let u=!1;n.block&&(n.blocks?n.blocks.forEach((t,e)=>{e!==o&&t&&(P(),M(t,1,1,()=>{n.blocks[e]=null}),B())}):n.block.d(1),i.c(),H(i,1),i.m(n.mount(),n.anchor),u=!0),n.block=i,n.blocks&&(n.blocks[o]=i),u&&N()}if((r=t)&&"object"==typeof r&&"function"==typeof r.then){const e=v();if(t.then(t=>{w(e),o(n.then,1,n.value,t),w(null)},t=>{w(e),o(n.catch,2,n.error,t),w(null)}),n.current!==n.pending)return o(n.pending,0),!0}else{if(n.current!==n.then)return o(n.then,1,n.value,t),!0;n.resolved=t}var r}(a=t[0],p),{c(){n=f("div"),e=f("div"),e.innerHTML="<h2>Digital Dash Configuration</h2>",o=h(),r=f("p"),r.textContent="Configure the Digital Dash background, gauge styles,\n        parameters, alerts and dynamic triggers.",c=h(),l=f("div"),p.block.c(),m(e,"class","text-red-400 text-lg"),m(l,"class","py-4")},m(t,s){u(t,n,s),i(n,e),i(n,o),i(n,r),i(n,c),i(n,l),p.block.m(l,p.anchor=null),p.mount=()=>l,p.anchor=null,d=!0},p(n,[e]){{const o=(t=n).slice();o[2]=p.resolved,p.block.p(o,e)}},i(t){d||(H(p.block),d=!0)},o(t){for(let t=0;t<3;t+=1){M(p.blocks[t])}d=!1},d(t){t&&s(n),p.block.d(),p.token=null,p=null}}}function ct(t){return[async function(){const t=await fetch("http://localhost:3000/api/config"),n=await t.json();if(t.ok)return n.views;throw new Error(n)}(),function(n){!function(t,n){const e=t.$$.callbacks[n.type];e&&e.slice().forEach(t=>t(n))}(t,n)}]}function lt(n){let e;return{c(){e=d("Edit Page")},m(t,n){u(t,e,n)},p:t,i:t,o:t,d(t){t&&s(e)}}}const it=[];let ut="/";const st={"/":class extends K{constructor(t){super(),J(this,t,ct,rt,c,{})}},"/view":class extends K{constructor(t){super(),J(this,t,null,lt,c,{})}}};function at(t){"object"==typeof t.detail?ft.set(t.detail.target.pathname):ft.set(t.target.pathname),window.history.pushState({path:ut},"",window.location.origin+ut)}const ft=function(n,e=t){let o;const r=[];function l(t){if(c(n,t)&&(n=t,o)){const t=!it.length;for(let t=0;t<r.length;t+=1){const e=r[t];e[1](),it.push(e,n)}if(t){for(let t=0;t<it.length;t+=2)it[t][0](it[t+1]);it.length=0}}}return{set:l,update:function(t){l(t(n))},subscribe:function(c,i=t){const u=[c,i];return r.push(u),1===r.length&&(o=e(l)||t),c(n),()=>{const t=r.indexOf(u);-1!==t&&r.splice(t,1),0===r.length&&(o(),o=null)}}}}("/"),{window:dt}=q;function ht(t){let n,e,r,c,l,a,d;const $=new Q({});var b=st[t[0]];if(b){var w=new b({});w.$on("redirect",at)}return{c(){z($.$$.fragment),n=h(),e=f("nav"),r=f("a"),r.textContent="Home",c=h(),l=f("div"),w&&z(w.$$.fragment),m(r,"href","/"),m(l,"id","pageContent")},m(s,f,h){F($,s,f),u(s,n,f),u(s,e,f),i(e,r),u(s,c,f),u(s,l,f),w&&F(w,l,null),a=!0,h&&o(d),d=[p(dt,"popstate",t[1]),p(dt,"redirect",at),p(r,"click",g(at))]},p(t,[n]){if(b!==(b=st[t[0]])){if(w){P();const t=w;M(t.$$.fragment,1,0,()=>{G(t,1)}),B()}b?((w=new b({})).$on("redirect",at),z(w.$$.fragment),H(w.$$.fragment,1),F(w,l,null)):w=null}},i(t){a||(H($.$$.fragment,t),w&&H(w.$$.fragment,t),a=!0)},o(t){M($.$$.fragment,t),w&&M(w.$$.fragment,t),a=!1},d(t){G($,t),t&&s(n),t&&s(e),t&&s(c),t&&s(l),w&&G(w),o(d)}}}function pt(t,n,e){let o;var r;return l(t,ft,t=>e(0,o=t)),r=()=>{ft.set(window.location.pathname),history.state||window.history.replaceState({path:window.location.pathname},"",window.location.href)},v().$$.on_mount.push(r),[o,function(t){ft.set(t.state.path)}]}return new class extends K{constructor(t){super(),J(this,t,pt,ht,c,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
