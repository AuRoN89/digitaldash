#:kivy 1.0

<NeedleLinear>:
    canvas:
        # Draw our stencil
        StencilPush
        Rectangle:
            pos: (self.center_x - self.width / 2 + self.xOffset, self.center_y + 50)
            size: self.update, 50

        StencilUse
        # Now we want to draw our gauge and have it be cropped by the stencil
        Color:
            rgba: self.r, self.g, self.b, self.a
        Rectangle:
            size: self.size
            # source: self.source

        StencilUnUse
        # Redraw our stencil to remove it
        Rectangle:
            pos: (self.center_x - self.width / 2 + self.xOffset, self.center_y + 50)
            size: self.update, 50

        StencilPop

        Color:
            rgba: 1, 1, 1, 1
        Rectangle:
            pos: (self.update + self.center_x - self.width / 2 + self.xOffset, self.center_y + 50)
            size: 10, self.height
