import{S as s,i as a,s as e,e as r,a as t,t as o,c as n,b as c,g as i,d as l,f as d,m,h,j as u,Q as f,J as p,R as g,n as b,P as v,G as w,I as y,H as E}from"../chunks/stores-dbc60e4c.js";import{r as P}from"../chunks/singletons-dd9f995d.js";const I=async function(s,a){return P.goto(s,a,[])};function U(s){let a,e,w,y,E,P,I,U,j,x,S,T,q,D,L,N,O,V,k,B,A,G,H,J,M;return{c(){a=r("div"),e=r("form"),w=r("div"),y=r("img"),P=t(),I=r("h1"),U=o("Please sign in"),j=t(),x=r("div"),S=r("input"),T=t(),q=r("label"),D=o("Username"),L=t(),N=r("div"),O=r("input"),V=t(),k=r("label"),B=o("Password"),A=t(),G=r("button"),H=o("Sign in"),this.h()},l(s){a=n(s,"DIV",{class:!0});var r=c(a);e=n(r,"FORM",{class:!0});var t=c(e);w=n(t,"DIV",{class:!0});var o=c(w);y=n(o,"IMG",{src:!0,alt:!0,width:!0,height:!0}),P=i(o),I=n(o,"H1",{class:!0});var m=c(I);U=l(m,"Please sign in"),m.forEach(d),o.forEach(d),j=i(t),x=n(t,"DIV",{class:!0});var h=c(x);S=n(h,"INPUT",{type:!0,name:!0,id:!0,class:!0,placeholder:!0,required:!0}),T=i(h),q=n(h,"LABEL",{for:!0});var u=c(q);D=l(u,"Username"),u.forEach(d),h.forEach(d),L=i(t),N=n(t,"DIV",{class:!0});var f=c(N);O=n(f,"INPUT",{type:!0,name:!0,id:!0,class:!0,placeholder:!0,required:!0}),V=i(f),k=n(f,"LABEL",{for:!0});var p=c(k);B=l(p,"Password"),p.forEach(d),f.forEach(d),A=i(t),G=n(t,"BUTTON",{class:!0,type:!0});var g=c(G);H=l(g,"Sign in"),g.forEach(d),t.forEach(d),r.forEach(d),this.h()},h(){y.src!==(E="images/logo.png")&&m(y,"src","images/logo.png"),m(y,"alt",""),m(y,"width","72"),m(y,"height","72"),m(I,"class","h3 mb-3 font-weight-normal"),m(w,"class","text-center container"),m(S,"type","text"),m(S,"name","username"),m(S,"id","Username"),m(S,"class","mb-2 form-control"),m(S,"placeholder","username"),S.required=!0,m(q,"for","username"),m(x,"class","form-label-group"),m(O,"type","password"),m(O,"name","password"),m(O,"id","password"),m(O,"class","mb-2 form-control"),m(O,"placeholder","Password"),O.required=!0,m(k,"for","password"),m(N,"class","form-label-group"),m(G,"class","btn btn-lg btn-primary btn-block"),m(G,"type","submit"),m(e,"class","form-signin"),m(a,"class","col-sm-12 col-md-6 justify-content-center d-flex")},m(r,t){h(r,a,t),u(a,e),u(e,w),u(w,y),u(w,P),u(w,I),u(I,U),u(e,j),u(e,x),u(x,S),f(S,s[0]),u(x,T),u(x,q),u(q,D),u(e,L),u(e,N),u(N,O),f(O,s[1]),u(N,V),u(N,k),u(k,B),u(e,A),u(e,G),u(G,H),J||(M=[p(S,"input",s[3]),p(O,"input",s[4]),p(e,"submit",g(s[2]))],J=!0)},p(s,[a]){1&a&&S.value!==s[0]&&f(S,s[0]),2&a&&O.value!==s[1]&&f(O,s[1])},i:b,o:b,d(s){s&&d(a),J=!1,v(M)}}}function j(s,a,e){let r,t,o;return w(s,E,(s=>e(5,r=s))),[t,o,function(){fetch("/api/user",{method:"POST",mode:"cors",credentials:"same-origin",body:JSON.stringify({Username:t,Password:o})}).then((s=>s.json())).then((s=>{s.ret?(y(E,r.User=s.user,r),I("/")):y(E,r.actions=[{id:r.count,msg:s.message,theme:"alert-danger"},...r.actions],r)}))},function(){t=this.value,e(0,t)},function(){o=this.value,e(1,o)}]}export default class extends s{constructor(s){super(),a(this,s,j,U,e,{})}}
