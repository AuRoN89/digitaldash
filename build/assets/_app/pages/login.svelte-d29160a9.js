import{S as s,i as a,s as e,e as r,j as o,t,c as n,a as c,l as i,b as l,d,o as m,f as u,g as h,Q as f,J as p,R as g,n as b,P as v,G as w,I as y,H as E}from"../chunks/stores-67155c76.js";import{r as P}from"../chunks/singletons-dd9f995d.js";const I=async function(s,a){return P.goto(s,a,[])};function U(s){let a,e,w,y,E,P,I,U,j,x,S,T,q,D,L,N,O,V,k,B,A,G,H,J,M;return{c(){a=r("div"),e=r("form"),w=r("div"),y=r("img"),P=o(),I=r("h1"),U=t("Please sign in"),j=o(),x=r("div"),S=r("input"),T=o(),q=r("label"),D=t("Username"),L=o(),N=r("div"),O=r("input"),V=o(),k=r("label"),B=t("Password"),A=o(),G=r("button"),H=t("Sign in"),this.h()},l(s){a=n(s,"DIV",{class:!0});var r=c(a);e=n(r,"FORM",{class:!0});var o=c(e);w=n(o,"DIV",{class:!0});var t=c(w);y=n(t,"IMG",{src:!0,alt:!0,width:!0,height:!0}),P=i(t),I=n(t,"H1",{class:!0});var m=c(I);U=l(m,"Please sign in"),m.forEach(d),t.forEach(d),j=i(o),x=n(o,"DIV",{class:!0});var u=c(x);S=n(u,"INPUT",{type:!0,name:!0,id:!0,class:!0,placeholder:!0,required:!0}),T=i(u),q=n(u,"LABEL",{for:!0});var h=c(q);D=l(h,"Username"),h.forEach(d),u.forEach(d),L=i(o),N=n(o,"DIV",{class:!0});var f=c(N);O=n(f,"INPUT",{type:!0,name:!0,id:!0,class:!0,placeholder:!0,required:!0}),V=i(f),k=n(f,"LABEL",{for:!0});var p=c(k);B=l(p,"Password"),p.forEach(d),f.forEach(d),A=i(o),G=n(o,"BUTTON",{class:!0,type:!0});var g=c(G);H=l(g,"Sign in"),g.forEach(d),o.forEach(d),r.forEach(d),this.h()},h(){y.src!==(E="images/logo.png")&&m(y,"src","images/logo.png"),m(y,"alt",""),m(y,"width","72"),m(y,"height","72"),m(I,"class","h3 mb-3 font-weight-normal"),m(w,"class","text-center container"),m(S,"type","text"),m(S,"name","username"),m(S,"id","Username"),m(S,"class","mb-2 form-control"),m(S,"placeholder","username"),S.required=!0,m(q,"for","username"),m(x,"class","form-label-group"),m(O,"type","password"),m(O,"name","password"),m(O,"id","password"),m(O,"class","mb-2 form-control"),m(O,"placeholder","Password"),O.required=!0,m(k,"for","password"),m(N,"class","form-label-group"),m(G,"class","btn btn-lg btn-primary btn-block"),m(G,"type","submit"),m(e,"class","form-signin"),m(a,"class","col-sm-12 col-md-6 justify-content-center d-flex")},m(r,o){u(r,a,o),h(a,e),h(e,w),h(w,y),h(w,P),h(w,I),h(I,U),h(e,j),h(e,x),h(x,S),f(S,s[0]),h(x,T),h(x,q),h(q,D),h(e,L),h(e,N),h(N,O),f(O,s[1]),h(N,V),h(N,k),h(k,B),h(e,A),h(e,G),h(G,H),J||(M=[p(S,"input",s[3]),p(O,"input",s[4]),p(e,"submit",g(s[2]))],J=!0)},p(s,[a]){1&a&&S.value!==s[0]&&f(S,s[0]),2&a&&O.value!==s[1]&&f(O,s[1])},i:b,o:b,d(s){s&&d(a),J=!1,v(M)}}}function j(s,a,e){let r,o,t;return w(s,E,(s=>e(5,r=s))),[o,t,async function(){const s=await fetch("/api/user",{method:"POST",mode:"cors",credentials:"same-origin",body:JSON.stringify({Username:o,Password:t})}).then((s=>s.json())).then((s=>{if(s.ret)return y(E,r.User=s.user,r),I("/");y(E,r.actions=[{id:r.count,msg:s.message,theme:"alert-danger"},...r.actions],r)}));console.log(s)},function(){o=this.value,e(0,o)},function(){t=this.value,e(1,t)}]}export default class extends s{constructor(s){super(),a(this,s,j,U,e,{})}}
