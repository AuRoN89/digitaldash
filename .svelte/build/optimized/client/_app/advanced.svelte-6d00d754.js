import{S as a,i as t,s,b as n,c as i,g as o,h as c,j as r,k as e,n as l,a as f,o as u,d,l as h,E as g,B as m,C as p,D as v,x as S,z as b,A as y}from"./start-15490223.js";function E(a){let t,s;return{c(){t=n("div"),s=i("Invalid JSON"),this.h()},l(a){t=o(a,"DIV",{class:!0});var n=c(t);s=r(n,"Invalid JSON"),n.forEach(e),this.h()},h(){l(t,"class","alert alert-danger")},m(a,n){f(a,t,n),u(t,s)},d(a){a&&e(t)}}}function O(a){let t,s,S,b,y,O,$,j,x=a[1]&&E();return{c(){t=n("div"),x&&x.c(),s=d(),S=n("textarea"),b=d(),y=n("button"),O=i("Save"),this.h()},l(a){t=o(a,"DIV",{class:!0});var n=c(t);x&&x.l(n),s=h(n),S=o(n,"TEXTAREA",{class:!0}),c(S).forEach(e),b=h(n),y=o(n,"BUTTON",{disabled:!0,class:!0,type:!0});var i=c(y);O=r(i,"Save"),i.forEach(e),n.forEach(e),this.h()},h(){l(S,"class","form-control svelte-rfhj3t"),y.disabled=a[1],l(y,"class","mt-2 form-control"),l(y,"type","submit"),l(t,"class","col-12 pr-4 pl-4 advanced")},m(n,i){f(n,t,i),x&&x.m(t,null),u(t,s),u(t,S),g(S,a[0]),u(t,b),u(t,y),u(y,O),$||(j=[m(S,"input",a[4]),m(y,"click",a[2])],$=!0)},p(a,[n]){a[1]?x||(x=E(),x.c(),x.m(t,s)):x&&(x.d(1),x=null),1&n&&g(S,a[0]),2&n&&(y.disabled=a[1])},i:p,o:p,d(a){a&&e(t),x&&x.d(),$=!1,v(j)}}}async function $(a,t){const s=await this.fetch("/api/config");return{configuration:await s.json()}}function j(a,t,s){let n;S(a,y,(a=>s(5,n=a)));let{configuration:i}=t,o=JSON.stringify(n.configuration,null,2);let c=!1;return a.$$set=a=>{"configuration"in a&&s(3,i=a.configuration)},a.$$.update=()=>{if(1&a.$$.dirty)try{JSON.parse(o),s(1,c=!1)}catch(a){s(1,c=!0)}},[o,c,function(){fetch("/api/config",{method:"POST",body:o}).then((a=>a.json())).then((a=>{b(y,n.configuration=a.config,n),b(y,n.actions=[{id:n.count,msg:a.message,theme:a.ret?"alert-info":"alert-danger"},...n.actions],n)}))},i,function(){o=this.value,s(0,o)}]}export default class extends a{constructor(a){super(),t(this,a,j,O,s,{configuration:3})}}export{$ as preload};
//# sourceMappingURL=advanced.svelte-6d00d754.js.map
