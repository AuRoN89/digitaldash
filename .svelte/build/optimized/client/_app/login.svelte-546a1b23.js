import{G as s,S as a,i as e,s as r,b as t,d as o,c as n,f as c,g as i,k as l,h as m,j as d,l as h,a as u,m as f,E as p,B as g,F as b,C as v,D as w,w as E,z as y,A as P}from"./start-55c7e715.js";function U(s){let a,e,r,E,y,P,U,I,x,D,S,T,j,q,B,L,N,O,V,A,k,F,G,M,z;return{c(){a=t("div"),e=t("form"),r=t("div"),E=t("img"),P=o(),U=t("h1"),I=n("Please sign in"),x=o(),D=t("div"),S=t("input"),T=o(),j=t("label"),q=n("Username"),B=o(),L=t("div"),N=t("input"),O=o(),V=t("label"),A=n("Password"),k=o(),F=t("button"),G=n("Sign in"),this.h()},l(s){a=c(s,"DIV",{class:!0});var t=i(a);e=c(t,"FORM",{class:!0});var o=i(e);r=c(o,"DIV",{class:!0});var n=i(r);E=c(n,"IMG",{src:!0,alt:!0,width:!0,height:!0}),P=l(n),U=c(n,"H1",{class:!0});var h=i(U);I=m(h,"Please sign in"),h.forEach(d),n.forEach(d),x=l(o),D=c(o,"DIV",{class:!0});var u=i(D);S=c(u,"INPUT",{type:!0,name:!0,id:!0,class:!0,placeholder:!0,required:!0}),T=l(u),j=c(u,"LABEL",{for:!0});var f=i(j);q=m(f,"Username"),f.forEach(d),u.forEach(d),B=l(o),L=c(o,"DIV",{class:!0});var p=i(L);N=c(p,"INPUT",{type:!0,name:!0,id:!0,class:!0,placeholder:!0,required:!0}),O=l(p),V=c(p,"LABEL",{for:!0});var g=i(V);A=m(g,"Password"),g.forEach(d),p.forEach(d),k=l(o),F=c(o,"BUTTON",{class:!0,type:!0});var b=i(F);G=m(b,"Sign in"),b.forEach(d),o.forEach(d),t.forEach(d),this.h()},h(){E.src!==(y="images/logo.png")&&h(E,"src","images/logo.png"),h(E,"alt",""),h(E,"width","72"),h(E,"height","72"),h(U,"class","h3 mb-3 font-weight-normal"),h(r,"class","text-center container"),h(S,"type","text"),h(S,"name","username"),h(S,"id","Username"),h(S,"class","mb-2 form-control"),h(S,"placeholder","username"),S.required=!0,h(j,"for","username"),h(D,"class","form-label-group"),h(N,"type","password"),h(N,"name","password"),h(N,"id","password"),h(N,"class","mb-2 form-control"),h(N,"placeholder","Password"),N.required=!0,h(V,"for","password"),h(L,"class","form-label-group"),h(F,"class","btn btn-lg btn-primary btn-block"),h(F,"type","submit"),h(e,"class","form-signin"),h(a,"class","col-sm-12 col-md-6 justify-content-center d-flex")},m(t,o){u(t,a,o),f(a,e),f(e,r),f(r,E),f(r,P),f(r,U),f(U,I),f(e,x),f(e,D),f(D,S),p(S,s[0]),f(D,T),f(D,j),f(j,q),f(e,B),f(e,L),f(L,N),p(N,s[1]),f(L,O),f(L,V),f(V,A),f(e,k),f(e,F),f(F,G),M||(z=[g(S,"input",s[3]),g(N,"input",s[4]),g(e,"submit",b(s[2]))],M=!0)},p(s,[a]){1&a&&S.value!==s[0]&&p(S,s[0]),2&a&&N.value!==s[1]&&p(N,s[1])},i:v,o:v,d(s){s&&d(a),M=!1,w(z)}}}function I(a,e,r){let t,o,n;return E(a,P,(s=>r(5,t=s))),[o,n,function(a){fetch("/api/auth",{method:"POST",mode:"cors",credentials:"same-origin",body:JSON.stringify({Username:o,Password:n})}).then((s=>s.json())).then((a=>{a.ret?(y(P,t.User=a.user,t),async function(a,e){s.goto(a,e)}("/")):y(P,t.actions=[{id:t.count,msg:a.message,theme:"alert-danger"},...t.actions],t)}))},function(){o=this.value,r(0,o)},function(){n=this.value,r(1,n)}]}export default class extends a{constructor(s){super(),e(this,s,I,U,r,{})}}
//# sourceMappingURL=login.svelte-546a1b23.js.map
