"use strict";var n=require("./app.js"),t=require("./stores.js");require("@sveltejs/kit/dist/renderer"),require("fs"),require("child_process");const e={code:"textarea.svelte-rfhj3t{width:100%;height:500px}",map:'{"version":3,"file":"advanced.svelte","sources":["advanced.svelte"],"sourcesContent":["<script context=\\"module\\">\\n  export async function preload(page, session) {\\n    const response      = await this.fetch( \'/api/config\' );\\n    const configuration = await response.json();\\n\\n    return { configuration: configuration };\\n  }\\n<\/script>\\n\\n<script>\\n  import { session } from \\"$app/stores\\";\\n  export let configuration;\\n\\n  let configString = JSON.stringify( $session.configuration, null, 2 );\\n\\n  function submit() {\\n    fetch(\\"/api/config\\", {\\n        method : \\"POST\\",\\n        body   : configString\\n      })\\n      .then(d => d.json())\\n      .then(d => {\\n        $session.configuration = d.config;\\n        $session.actions = [{\\n          id    : $session.count,\\n          msg   : d.message,\\n          theme : d.ret ? \'alert-info\' : \'alert-danger\',\\n        }, ...$session.actions];\\n      });\\n  }\\n\\n  let invalid = false;\\n  $: {\\n    try {\\n        JSON.parse( configString );\\n        invalid = false;\\n    }\\n    catch ( e ) {\\n        invalid = true;\\n    }\\n  }\\n<\/script>\\n\\n<div class=\\"col-12 pr-4 pl-4 advanced\\">\\n\\n  {#if invalid}\\n    <div class=\\"alert alert-danger\\">\\n      Invalid JSON\\n    </div>\\n  {/if}\\n\\n  <textarea class=\\"form-control\\" bind:value=\\"{configString}\\"></textarea>\\n  <button disabled={invalid} class=\\"mt-2 form-control\\" type=\\"submit\\" on:click=\\"{submit}\\">Save</button>\\n</div>\\n\\n<style>\\n  textarea {\\n    width: 100%;\\n    height: 500px;\\n  }\\n</style>\\n"],"names":[],"mappings":"AAwDE,QAAQ,cAAC,CAAC,AACR,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,KAAK,AACf,CAAC"}'};const i=n.create_ssr_component(((i,s,o,r)=>{let a,c;c=n.subscribe(t.session,(n=>a=n)),t.session.subscribe((n=>a=n));let{configuration:l}=s,d=JSON.stringify(a.configuration,null,2),f=!1;void 0===s.configuration&&o.configuration&&void 0!==l&&o.configuration(l),i.css.add(e);try{JSON.parse(d),f=!1}catch(n){f=!0}return c(),`<div class="col-12 pr-4 pl-4 advanced">${f?'<div class="alert alert-danger">Invalid JSON\n    </div>':""}\n\n  <textarea class="form-control svelte-rfhj3t">${d||""}</textarea>\n  <button ${f?"disabled":""} class="mt-2 form-control" type="submit">Save</button>\n</div>`}));exports.default=i,exports.preload=async function(n,t){const e=await this.fetch("/api/config");return{configuration:await e.json()}};
//# sourceMappingURL=advanced.svelte.js.map
