import{b as n,s as t}from"./app.js";import{s}from"./stores.js";import"@sveltejs/kit/renderer";import"fs/promises";import"buffer";import"process";import"stream";import"util";import"crypto";import"fs";import"child_process";const e={code:"textarea.svelte-rfhj3t{width:100%;height:500px}",map:'{"version":3,"file":"advanced.svelte","sources":["advanced.svelte"],"sourcesContent":["<script>\\n  import { session } from \\"$app/stores\\";\\n\\n  let configString = JSON.stringify( $session.configuration, null, 2 );\\n\\n  function submit() {\\n    fetch(\\"/api/config\\", {\\n        method : \\"POST\\",\\n        body   : configString\\n      })\\n      .then(d => d.json())\\n      .then(d => {\\n        $session.configuration = d.config;\\n        $session.actions = [{\\n          id    : $session.count,\\n          msg   : d.message,\\n          theme : d.ret ? \'alert-info\' : \'alert-danger\',\\n        }, ...$session.actions];\\n      });\\n  }\\n\\n  let invalid = false;\\n  $: {\\n    try {\\n        JSON.parse( configString );\\n        invalid = false;\\n    }\\n    catch ( e ) {\\n        invalid = true;\\n    }\\n  }\\n<\/script>\\n\\n<div class=\\"col-12 pr-4 pl-4 advanced\\">\\n\\n  {#if invalid}\\n    <div class=\\"alert alert-danger\\">\\n      Invalid JSON\\n    </div>\\n  {/if}\\n\\n  <textarea class=\\"form-control\\" bind:value=\\"{configString}\\"></textarea>\\n  <button disabled={invalid} class=\\"mt-2 form-control\\" type=\\"submit\\" on:click=\\"{submit}\\">Save</button>\\n</div>\\n\\n<style>\\n  textarea {\\n    width: 100%;\\n    height: 500px;\\n  }\\n</style>\\n"],"names":[],"mappings":"AA8CE,QAAQ,cAAC,CAAC,AACR,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,KAAK,AACf,CAAC"}'},i=n(((n,i,r,a)=>{let o,l;l=t(s,(n=>o=n));let c=JSON.stringify(o.configuration,null,2),d=!1;n.css.add(e);try{JSON.parse(c),d=!1}catch(n){d=!0}return l(),`<div class="col-12 pr-4 pl-4 advanced">${d?'<div class="alert alert-danger">Invalid JSON\n    </div>':""}\n\n  <textarea class="form-control svelte-rfhj3t">${c||""}</textarea>\n  <button ${d?"disabled":""} class="mt-2 form-control" type="submit">Save</button>\n</div>`}));export default i;
//# sourceMappingURL=advanced.svelte.js.map
