import{render as e}from"@sveltejs/kit/renderer";import t from"fs";import{exec as s}from"child_process";import n from"util";import{readFile as i,writeFile as a}from"fs/promises";function o(){}function r(e){return e()}function p(e,...t){if(null==e)return o;const s=e.subscribe(...t);return s.unsubscribe?()=>s.unsubscribe():s}function l(e,t,s=t){return e.set(s),t}let c;function g(e){c=e}function d(){if(!c)throw new Error("Function called outside component initialization");return c}function u(e){return d().$$.context.get(e)}const f={'"':"&quot;","'":"&#39;","&":"&amp;","<":"&lt;",">":"&gt;"};function m(e){return String(e).replace(/["'&<>]/g,(e=>f[e]))}function v(e,t){let s="";for(let n=0;n<e.length;n+=1)s+=t(e[n],n);return s}const j={$$render:()=>""};function A(e,t){if(!e||!e.$$render)throw"svelte:component"===t&&(t+=" this={...}"),new Error(`<${t}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);return e}let _;function b(e){function t(t,s,n,i){const a=c;g({$$:{on_destroy:_,context:new Map(a?a.$$.context:[]),on_mount:[],before_update:[],after_update:[],callbacks:Object.create(null)}});const o=e(t,s,n,i);return g(a),o}return{render:(e={},s={})=>{_=[];const n={title:"",head:"",css:new Set},i=t(n,e,{},s);return _.forEach(r),{html:i,css:{code:Array.from(n.css).map((e=>e.code)).join("\n"),map:null},head:n.title+n.head}},$$render:t}}function y(e,t,s){return null==t||s&&!t?"":` ${e}${!0===t?"":`=${"string"==typeof t?JSON.stringify(m(t)):`"${t}"`}`}`}const C=b(((e,t,s,n)=>{let{status:i}=t,{error:a}=t;return void 0===t.status&&s.status&&void 0!==i&&s.status(i),void 0===t.error&&s.error&&void 0!==a&&s.error(a),`<h1>${m(i)}</h1>\n\n<p>${m(a.message)}</p>\n\n\n${a.stack?`<pre>${m(a.stack)}</pre>`:""}`}));var h=Object.freeze({__proto__:null,default:C});const $={code:"#svelte-announcer.svelte-1j55zn5{position:absolute;left:0;top:0;clip:rect(0 0 0 0);clip-path:inset(50%);overflow:hidden;white-space:nowrap;width:1px;height:1px}",map:'{"version":3,"file":"root.svelte","sources":["root.svelte"],"sourcesContent":["\x3c!-- This file is generated by @sveltejs/kit â€” do not edit it! --\x3e\\n<script>\\n\\timport { setContext, afterUpdate, onMount } from \'svelte\';\\n\\timport ErrorComponent from \\"/_app/assets/components/error.svelte.js\\";\\n\\n\\t// error handling\\n\\texport let status = undefined;\\n\\texport let error = undefined;\\n\\n\\t// stores\\n\\texport let stores;\\n\\texport let page;\\n\\n\\texport let components;\\n\\texport let props_0 = null;\\n\\texport let props_1 = null;\\n\\n\\tconst Layout = components[0];\\n\\n\\tsetContext(\'__svelte__\', stores);\\n\\n\\t$: stores.page.set(page);\\n\\tafterUpdate(stores.page.notify);\\n\\n\\tlet mounted = false;\\n\\tlet navigated = false;\\n\\tlet title = null;\\n\\n\\tonMount(() => {\\n\\t\\tconst unsubscribe = stores.page.subscribe(() => {\\n\\t\\t\\tif (mounted) {\\n\\t\\t\\t\\tnavigated = true;\\n\\t\\t\\t\\ttitle = document.title;\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\tmounted = true;\\n\\t\\treturn unsubscribe;\\n\\t});\\n<\/script>\\n\\n<Layout {...(props_0 || {})}>\\n\\t{#if error}\\n\\t\\t<ErrorComponent {status} {error}/>\\n\\t{:else}\\n\\t\\t<svelte:component this={components[1]} {...(props_1 || {})}/>\\n\\t{/if}\\n</Layout>\\n\\n{#if mounted}\\n\\t<div id=\\"svelte-announcer\\" aria-live=\\"assertive\\" aria-atomic=\\"true\\">\\n\\t\\t{#if navigated}\\n\\t\\t\\tNavigated to {title}\\n\\t\\t{/if}\\n\\t</div>\\n{/if}\\n\\n<style>\\n\\t#svelte-announcer {\\n\\t\\tposition: absolute;\\n\\t\\tleft: 0;\\n\\t\\ttop: 0;\\n\\t\\tclip: rect(0 0 0 0);\\n\\t\\tclip-path: inset(50%);\\n\\t\\toverflow: hidden;\\n\\t\\twhite-space: nowrap;\\n\\t\\twidth: 1px;\\n\\t\\theight: 1px;\\n\\t}\\n</style>"],"names":[],"mappings":"AA0DC,iBAAiB,eAAC,CAAC,AAClB,QAAQ,CAAE,QAAQ,CAClB,IAAI,CAAE,CAAC,CACP,GAAG,CAAE,CAAC,CACN,IAAI,CAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CACnB,SAAS,CAAE,MAAM,GAAG,CAAC,CACrB,QAAQ,CAAE,MAAM,CAChB,WAAW,CAAE,MAAM,CACnB,KAAK,CAAE,GAAG,CACV,MAAM,CAAE,GAAG,AACZ,CAAC"}'},z=b(((e,t,s,n)=>{let{status:i}=t,{error:a}=t,{stores:o}=t,{page:r}=t,{components:p}=t,{props_0:l=null}=t,{props_1:c=null}=t;const g=p[0];var u;!function(e,t){d().$$.context.set(e,t)}("__svelte__",o),u=o.page.notify,d().$$.after_update.push(u);let f=!1,v=!1,_=null;return function(e){d().$$.on_mount.push(e)}((()=>{const e=o.page.subscribe((()=>{f&&(v=!0,_=document.title)}));return f=!0,e})),void 0===t.status&&s.status&&void 0!==i&&s.status(i),void 0===t.error&&s.error&&void 0!==a&&s.error(a),void 0===t.stores&&s.stores&&void 0!==o&&s.stores(o),void 0===t.page&&s.page&&void 0!==r&&s.page(r),void 0===t.components&&s.components&&void 0!==p&&s.components(p),void 0===t.props_0&&s.props_0&&void 0!==l&&s.props_0(l),void 0===t.props_1&&s.props_1&&void 0!==c&&s.props_1(c),e.css.add($),o.page.set(r),`\n\n\n${A(g,"Layout").$$render(e,Object.assign(l||{}),{},{default:()=>""+(a?`${A(C,"ErrorComponent").$$render(e,{status:i,error:a},{},{})}`:`${A(p[1]||j,"svelte:component").$$render(e,Object.assign(c||{}),{},{})}`)})}\n\n${f?`<div id="svelte-announcer" aria-live="assertive" aria-atomic="true" class="svelte-1j55zn5">${v?`Navigated to ${m(_)}`:""}</div>`:""}`}));function w(e){e.Username,e.Password,e.Username}n.promisify(s),process.env.KEGUIHome;const k=process.env.KEGUIHome;let x;function S(){return JSON.parse(t.readFileSync(`${k}/etc/config.json`,(function(e,t){e&&console.log("Failed to read config file")})))}var E=Object.freeze({__proto__:null,get:async function(){return x||(res=await i(`${k}/etc/config.json`,"utf8").then((e=>(x=JSON.parse(e),x))).catch((function(e){return console.error(e),{}})))},post:async function(e){const t=JSON.parse(e.body);return res=await a(`${k}/etc/config.json`,JSON.stringify(t,null,2)).then((()=>(x=S(),{body:{ret:1,message:"Config updated",config:x}}))).catch((function(e){return{body:{ret:0,message:"Config failed to update: "+e,config:x}}}))},put:async function(e){const t=e.body.id;let s=x;s.views[t].enabled=!s.views[t].enabled;let n=0;for(key in s.views)if(s.views[key].enabled){n=1;break}return 0===n?(s.views[t].enabled=!s.views[t].enabled,{body:{ret:0,views:x,message:"Need at least one enabled view"}}):res=await a(`${k}/etc/config.json`,JSON.stringify(s,null,2)).then((()=>(x=S(),{body:{ret:1,views:x,message:"Config updated"}}))).catch((function(e){return{body:{ret:0,message:"Config failed to update",config:x}}}))}});var B=Object.freeze({__proto__:null,prepare:async function(e){return{context:{}}},getSession:function(e){return{}}});const G=({head:e,body:t})=>'<!DOCTYPE html>\n<html lang="en" class="h-100">\n  <head>\n    <meta charset="utf-8" />\n    <link rel="icon" href="/favicon.ico" />\n    <meta name="viewport" content="width=device-width, initial-scale=1" />\n    '+e+"\n\n    <link rel='stylesheet' href='/css/bootstrap.min.css'>\n    <link rel='stylesheet' href='/css/floating-labels.css'>\n\n  </head>\n  <body id=\"svelte\" class=\"d-flex flex-column\">\n    "+t+"\n  </body>\n  <script defer src='/js/bootstrap.min.js'><\/script>\n</html>\n";function O({paths:e}){}const M=decodeURIComponent,N=()=>({}),I=[()=>import("./index.svelte.js"),()=>import("./advanced.svelte.js"),()=>import("./settings.svelte.js"),()=>import("./login.svelte.js"),()=>import("./[slug].svelte.js")],U={assets:[{file:"css/bootstrap.min.css",size:145075,type:"text/css"},{file:"css/floating-labels.css",size:1712,type:"text/css"},{file:"css/ke.css",size:151,type:"text/css"},{file:"favicon.ico",size:15406,type:"image/vnd.microsoft.icon"},{file:"images/Alerts/FordWarning.png",size:2315,type:"image/png"},{file:"images/Alerts/gauge.png",size:2315,type:"image/png"},{file:"images/Alerts/warningBlock.png",size:7013,type:"image/png"},{file:"images/Background/BlackBackground.png",size:3868,type:"image/png"},{file:"images/Background/CarbonFiber.png",size:223442,type:"image/png"},{file:"images/Background/alignment.png",size:9103,type:"image/png"},{file:"images/Background/banner1.jpg",size:18600,type:"image/jpeg"},{file:"images/Background/bg.jpg",size:58523,type:"image/jpeg"},{file:"images/Background/green.jpg",size:95095,type:"image/jpeg"},{file:"images/Clock/Gauge.png",size:56425,type:"image/png"},{file:"images/Dirt/gauge.png",size:20032,type:"image/png"},{file:"images/Dirt/needle.png",size:24328,type:"image/png"},{file:"images/Glow/gauge.png",size:46894,type:"image/png"},{file:"images/Glow/needle.png",size:1691,type:"image/png"},{file:"images/Linear/gauge.png",size:645,type:"image/png"},{file:"images/Stock/gauge.png",size:49334,type:"image/png"},{file:"images/Stock/needle.png",size:12646,type:"image/png"},{file:"images/StockRS/gauge.png",size:51697,type:"image/png"},{file:"images/StockRS/needle.png",size:10993,type:"image/png"},{file:"images/Stock_orange/gauge.png",size:17507,type:"image/png"},{file:"images/Stock_orange/needle.png",size:12646,type:"image/png"},{file:"images/logo.png",size:14975,type:"image/png"},{file:"js/bootstrap.bundle.js",size:246809,type:"application/javascript"},{file:"js/bootstrap.bundle.js.map",size:438468,type:"application/json"},{file:"js/bootstrap.bundle.min.js",size:84408,type:"application/javascript"},{file:"js/bootstrap.bundle.min.js.map",size:338719,type:"application/json"},{file:"js/bootstrap.esm.js",size:144926,type:"application/javascript"},{file:"js/bootstrap.esm.js.map",size:282055,type:"application/json"},{file:"js/bootstrap.esm.min.js",size:79148,type:"application/javascript"},{file:"js/bootstrap.esm.min.js.map",size:221500,type:"application/json"},{file:"js/bootstrap.js",size:153916,type:"application/javascript"},{file:"js/bootstrap.js.map",size:283267,type:"application/json"},{file:"js/bootstrap.min.css.map",size:588906,type:"application/json"},{file:"js/bootstrap.min.js",size:63450,type:"application/javascript"},{file:"js/bootstrap.min.js.map",size:214935,type:"application/json"},{file:"robots.txt",size:67,type:"text/plain"}],layout:()=>import("./$layout.svelte.js"),error:()=>Promise.resolve().then((function(){return h})),pages:[{pattern:/^\/$/,params:N,parts:[I[0]],css:["/_app/start-1646ff03.css","/_app/Slider.svelte-34365e6b.css","/_app/index.svelte-da4ffcfc.css"],js:["/_app/index.svelte-722d305b.js","/_app/start-fa4db3b4.js","/_app/inject_styles-0e3d93cc.js","/_app/stores-543d5c2a.js","/_app/Slider.svelte-4447f5c9.js"]},{pattern:/^\/advanced\/?$/,params:N,parts:[I[1]],css:["/_app/start-1646ff03.css","/_app/advanced.svelte-85c94d04.css"],js:["/_app/advanced.svelte-6274d254.js","/_app/start-fa4db3b4.js","/_app/inject_styles-0e3d93cc.js","/_app/stores-543d5c2a.js"]},{pattern:/^\/settings\/?$/,params:N,parts:[I[2]],css:["/_app/start-1646ff03.css"],js:["/_app/settings.svelte-3c06eab1.js","/_app/start-fa4db3b4.js","/_app/inject_styles-0e3d93cc.js","/_app/stores-543d5c2a.js"]},{pattern:/^\/login\/?$/,params:N,parts:[I[3]],css:["/_app/start-1646ff03.css"],js:["/_app/login.svelte-2b8dd038.js","/_app/start-fa4db3b4.js","/_app/inject_styles-0e3d93cc.js"]},{pattern:/^\/edit\/([^/]+?)\/?$/,params:e=>({slug:M(e[1])}),parts:[I[4]],css:["/_app/start-1646ff03.css","/_app/Slider.svelte-34365e6b.css","/_app/[slug].svelte-b13f2ddb.css"],js:["/_app/[slug].svelte-44f11ab5.js","/_app/start-fa4db3b4.js","/_app/inject_styles-0e3d93cc.js","/_app/stores-543d5c2a.js","/_app/Slider.svelte-4447f5c9.js"]}],endpoints:[{pattern:/^\/api\/config\/?$/,params:N,load:()=>Promise.resolve().then((function(){return E}))},{pattern:/^\/api\/auth\/?$/,params:N,load:()=>import("./auth.js")}]};function J(t,{paths:s={base:"",assets:"/."},local:n=!1,only_prerender:i=!1,get_static_file:a}={}){return e(t,{paths:s,local:n,template:G,manifest:U,target:"#svelte",entry:"entry-c8f50789.js",root:z,setup:B,dev:!1,amp:!1,only_prerender:i,app_dir:"_app",host:null,host_header:null,get_stack:e=>e.stack,get_static_file:a,get_amp_css:e=>css_lookup[e]})}export{m as a,l as b,b as c,y as d,v as e,u as g,O as i,j as m,J as r,p as s,w as u,A as v};
//# sourceMappingURL=app.js.map
