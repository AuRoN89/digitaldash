"use strict";var e=require("@sveltejs/kit/dist/renderer"),t=require("fs"),s=require("child_process");function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=n(t);function r(){}function o(e){return e()}let a;function p(e){a=e}function l(){if(!a)throw new Error("Function called outside component initialization");return a}const c={'"':"&quot;","'":"&#39;","&":"&amp;","<":"&lt;",">":"&gt;"};function u(e){return String(e).replace(/["'&<>]/g,(e=>c[e]))}const g={$$render:()=>""};function d(e,t){if(!e||!e.$$render)throw"svelte:component"===t&&(t+=" this={...}"),new Error(`<${t}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);return e}let f;function m(e){function t(t,s,n,i){const r=a;p({$$:{on_destroy:f,context:new Map(r?r.$$.context:[]),on_mount:[],before_update:[],after_update:[],callbacks:Object.create(null)}});const o=e(t,s,n,i);return p(r),o}return{render:(e={},s={})=>{f=[];const n={title:"",head:"",css:new Set},i=t(n,e,{},s);return f.forEach(o),{html:i,css:{code:Array.from(n.css).map((e=>e.code)).join("\n"),map:null},head:n.title+n.head}},$$render:t}}const v=m(((e,t,s,n)=>{let{status:i}=t,{error:r}=t;return void 0===t.status&&s.status&&void 0!==i&&s.status(i),void 0===t.error&&s.error&&void 0!==r&&s.error(r),`<h1>${u(i)}</h1>\n\n<p>${u(r.message)}</p>\n\n\n${r.stack?`<pre>${u(r.stack)}</pre>`:""}`}));var j=Object.freeze({__proto__:null,default:v});const A={code:"#svelte-announcer.svelte-1j55zn5{position:absolute;left:0;top:0;clip:rect(0 0 0 0);clip-path:inset(50%);overflow:hidden;white-space:nowrap;width:1px;height:1px}",map:'{"version":3,"file":"root.svelte","sources":["root.svelte"],"sourcesContent":["\x3c!-- This file is generated by @sveltejs/kit â€” do not edit it! --\x3e\\n<script>\\n\\timport { setContext, afterUpdate, onMount } from \'svelte\';\\n\\timport ErrorComponent from \\"/_app/assets/components/error.svelte.js\\";\\n\\n\\t// error handling\\n\\texport let status = undefined;\\n\\texport let error = undefined;\\n\\n\\t// stores\\n\\texport let stores;\\n\\texport let page;\\n\\n\\texport let components;\\n\\texport let props_0 = null;\\n\\texport let props_1 = null;\\n\\n\\tconst Layout = components[0];\\n\\n\\tsetContext(\'__svelte__\', stores);\\n\\n\\t$: stores.page.set(page);\\n\\tafterUpdate(stores.page.notify);\\n\\n\\tlet mounted = false;\\n\\tlet navigated = false;\\n\\tlet title = null;\\n\\n\\tonMount(() => {\\n\\t\\tconst unsubscribe = stores.page.subscribe(() => {\\n\\t\\t\\tif (mounted) {\\n\\t\\t\\t\\tnavigated = true;\\n\\t\\t\\t\\ttitle = document.title;\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\tmounted = true;\\n\\t\\treturn unsubscribe;\\n\\t});\\n<\/script>\\n\\n<Layout {...(props_0 || {})}>\\n\\t{#if error}\\n\\t\\t<ErrorComponent {status} {error}/>\\n\\t{:else}\\n\\t\\t<svelte:component this={components[1]} {...(props_1 || {})}/>\\n\\t{/if}\\n</Layout>\\n\\n{#if mounted}\\n\\t<div id=\\"svelte-announcer\\" aria-live=\\"assertive\\" aria-atomic=\\"true\\">\\n\\t\\t{#if navigated}\\n\\t\\t\\tNavigated to {title}\\n\\t\\t{/if}\\n\\t</div>\\n{/if}\\n\\n<style>\\n\\t#svelte-announcer {\\n\\t\\tposition: absolute;\\n\\t\\tleft: 0;\\n\\t\\ttop: 0;\\n\\t\\tclip: rect(0 0 0 0);\\n\\t\\tclip-path: inset(50%);\\n\\t\\toverflow: hidden;\\n\\t\\twhite-space: nowrap;\\n\\t\\twidth: 1px;\\n\\t\\theight: 1px;\\n\\t}\\n</style>"],"names":[],"mappings":"AA0DC,iBAAiB,eAAC,CAAC,AAClB,QAAQ,CAAE,QAAQ,CAClB,IAAI,CAAE,CAAC,CACP,GAAG,CAAE,CAAC,CACN,IAAI,CAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CACnB,SAAS,CAAE,MAAM,GAAG,CAAC,CACrB,QAAQ,CAAE,MAAM,CAChB,WAAW,CAAE,MAAM,CACnB,KAAK,CAAE,GAAG,CACV,MAAM,CAAE,GAAG,AACZ,CAAC"}'},_=m(((e,t,s,n)=>{let{status:i}=t,{error:r}=t,{stores:o}=t,{page:a}=t,{components:p}=t,{props_0:c=null}=t,{props_1:f=null}=t;const m=p[0];var j;!function(e,t){l().$$.context.set(e,t)}("__svelte__",o),j=o.page.notify,l().$$.after_update.push(j);let _=!1,b=!1,y=null;return function(e){l().$$.on_mount.push(e)}((()=>{const e=o.page.subscribe((()=>{_&&(b=!0,y=document.title)}));return _=!0,e})),void 0===t.status&&s.status&&void 0!==i&&s.status(i),void 0===t.error&&s.error&&void 0!==r&&s.error(r),void 0===t.stores&&s.stores&&void 0!==o&&s.stores(o),void 0===t.page&&s.page&&void 0!==a&&s.page(a),void 0===t.components&&s.components&&void 0!==p&&s.components(p),void 0===t.props_0&&s.props_0&&void 0!==c&&s.props_0(c),void 0===t.props_1&&s.props_1&&void 0!==f&&s.props_1(f),e.css.add(A),o.page.set(a),`\n\n\n${d(m,"Layout").$$render(e,Object.assign(c||{}),{},{default:()=>""+(r?`${d(v,"ErrorComponent").$$render(e,{status:i,error:r},{},{})}`:`${d(p[1]||g,"svelte:component").$$render(e,Object.assign(f||{}),{},{})}`)})}\n\n${_?`<div id="svelte-announcer" aria-live="assertive" aria-atomic="true" class="svelte-1j55zn5">${b?`Navigated to ${u(y)}`:""}</div>`:""}`}));
/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */
var b=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var s={},n=t||{},i=e.split(h),r=n.decode||y,o=0;o<i.length;o++){var a=i[o],p=a.indexOf("=");if(!(p<0)){var l=a.substr(0,p).trim(),c=a.substr(++p,a.length).trim();'"'==c[0]&&(c=c.slice(1,-1)),null==s[l]&&(s[l]=C(c,r))}}return s},y=decodeURIComponent,h=/; */;function C(e,t){try{return t(e)}catch(t){return e}}let $;async function z(e){if($)return $;i.default.readFile("auth.json","utf8",(function(t,s){return authObj=JSON.parse(s),authObj&&authObj.Session?authObj.Session.token&&authObj.Session.token==e?authObj.User:void 0:void console.log("No session found on file.")}))}const x=process.env.KEGUIHome;let w;async function k(){if(w)return w;s.exec(`python3 ${x}/static/constants.py`,((e,t,s)=>e?err:(w=JSON.parse(t),w)))}const S=process.env.KEGUIHome;let O;function E(){return JSON.parse(i.default.readFileSync(`${S}/etc/config.json`,"utf8"))}async function B(){return O||(O=E(),O)}var P=Object.freeze({__proto__:null,get:B,post:async function(e){const t=JSON.parse(e.body);i.default.writeFile(`${S}/etc/config.json`,JSON.stringify(t,null,2),(e=>e?{ret:0,message:"Couldn't read config.json",config:{}}:(O=E(),{ret:1,message:"Config updated",config:O})))},put:async function(e){const t=e.body.id;let s=O;s.views[t].enabled=!s.views[t].enabled;let n=0;for(key in s.views)if(s.views[key].enabled){n=1;break}if(0===n)return s.views[t].enabled=!s.views[t].enabled,{ret:0,views:O,message:"Need at least one enabled view"};i.default.writeFile(`${S}/etc/config.json`,JSON.stringify(s,null,2),(e=>e?{ret:0,message:"Couldn't read config.json to PUT",config:{}}:(O=E(),{ret:1,views:O,message:"Config updated"})))}});var G=Object.freeze({__proto__:null,prepare:async function(e){let t;return e.cookie&&(t=b(e.cookie)),{context:{user:e.cookie?await z(t.ke_web_app):void 0,configuration:await B(),constants:await k()}}},getSession:function(e){return{user:e.user&&e.user&&{username:e.user.Username},actions:[],configuration:e.configuration,constants:e.constants,count:0}}});const U=({head:e,body:t})=>'<!DOCTYPE html>\n<html lang="en" class="h-100">\n  <head>\n    <meta charset="utf-8" />\n    <link rel="icon" href="/favicon.ico" />\n    <meta name="viewport" content="width=device-width, initial-scale=1" />\n    '+e+"\n\n    <link rel='stylesheet' href='/css/bootstrap.min.css'>\n    <link rel='stylesheet' href='/css/floating-labels.css'>\n\n  </head>\n  <body class=\"d-flex flex-column\">\n    "+t+"\n  </body>\n  <script defer src='/js/bootstrap.min.js'><\/script>\n</html>\n";const N=decodeURIComponent,q=()=>({}),M=[()=>Promise.resolve().then((function(){return require("./index.svelte.js")})),()=>Promise.resolve().then((function(){return require("./advanced.svelte.js")})),()=>Promise.resolve().then((function(){return require("./settings.svelte.js")})),()=>Promise.resolve().then((function(){return require("./login.svelte.js")})),()=>Promise.resolve().then((function(){return require("./[slug].svelte.js")}))],I={assets:[{file:"css/bootstrap.min.css",size:145075,type:"text/css"},{file:"css/floating-labels.css",size:1712,type:"text/css"},{file:"css/ke.css",size:151,type:"text/css"},{file:"favicon.ico",size:15406,type:"image/vnd.microsoft.icon"},{file:"images/Alerts/FordWarning.png",size:2315,type:"image/png"},{file:"images/Alerts/gauge.png",size:2315,type:"image/png"},{file:"images/Alerts/warningBlock.png",size:7013,type:"image/png"},{file:"images/Background/BlackBackground.png",size:3868,type:"image/png"},{file:"images/Background/CarbonFiber.png",size:223442,type:"image/png"},{file:"images/Background/alignment.png",size:9103,type:"image/png"},{file:"images/Background/banner1.jpg",size:18600,type:"image/jpeg"},{file:"images/Background/bg.jpg",size:58523,type:"image/jpeg"},{file:"images/Background/green.jpg",size:95095,type:"image/jpeg"},{file:"images/Clock/Gauge.png",size:56425,type:"image/png"},{file:"images/Dirt/gauge.png",size:20032,type:"image/png"},{file:"images/Dirt/needle.png",size:24328,type:"image/png"},{file:"images/Glow/gauge.png",size:46894,type:"image/png"},{file:"images/Glow/needle.png",size:1691,type:"image/png"},{file:"images/Linear/gauge.png",size:645,type:"image/png"},{file:"images/Stock/gauge.png",size:49334,type:"image/png"},{file:"images/Stock/needle.png",size:12646,type:"image/png"},{file:"images/StockRS/gauge.png",size:51697,type:"image/png"},{file:"images/StockRS/needle.png",size:10993,type:"image/png"},{file:"images/Stock_orange/gauge.png",size:17507,type:"image/png"},{file:"images/Stock_orange/needle.png",size:12646,type:"image/png"},{file:"images/logo.png",size:14975,type:"image/png"},{file:"js/bootstrap.bundle.js",size:246809,type:"application/javascript"},{file:"js/bootstrap.bundle.js.map",size:438468,type:"application/json"},{file:"js/bootstrap.bundle.min.js",size:84408,type:"application/javascript"},{file:"js/bootstrap.bundle.min.js.map",size:338719,type:"application/json"},{file:"js/bootstrap.esm.js",size:144926,type:"application/javascript"},{file:"js/bootstrap.esm.js.map",size:282055,type:"application/json"},{file:"js/bootstrap.esm.min.js",size:79148,type:"application/javascript"},{file:"js/bootstrap.esm.min.js.map",size:221500,type:"application/json"},{file:"js/bootstrap.js",size:153916,type:"application/javascript"},{file:"js/bootstrap.js.map",size:283267,type:"application/json"},{file:"js/bootstrap.min.css.map",size:588906,type:"application/json"},{file:"js/bootstrap.min.js",size:63450,type:"application/javascript"},{file:"js/bootstrap.min.js.map",size:214935,type:"application/json"},{file:"robots.txt",size:67,type:"text/plain"}],layout:()=>Promise.resolve().then((function(){return require("./$layout.svelte.js")})),error:()=>Promise.resolve().then((function(){return j})),pages:[{pattern:/^\/$/,params:q,parts:[M[0]],css:["/_app/start-7f960bf4.css","/_app/Slider.svelte-34365e6b.css","/_app/index.svelte-da4ffcfc.css"],js:["/_app/index.svelte-1a912ecc.js","/_app/start-15490223.js","/_app/inject_styles-0e3d93cc.js","/_app/Slider.svelte-7060f00b.js"]},{pattern:/^\/advanced\/?$/,params:q,parts:[M[1]],css:["/_app/start-7f960bf4.css","/_app/advanced.svelte-85c94d04.css"],js:["/_app/advanced.svelte-6d00d754.js","/_app/start-15490223.js","/_app/inject_styles-0e3d93cc.js"]},{pattern:/^\/settings\/?$/,params:q,parts:[M[2]],css:["/_app/start-7f960bf4.css"],js:["/_app/settings.svelte-c5e27b2b.js","/_app/start-15490223.js","/_app/inject_styles-0e3d93cc.js"]},{pattern:/^\/login\/?$/,params:q,parts:[M[3]],css:["/_app/start-7f960bf4.css"],js:["/_app/login.svelte-d9c4596d.js","/_app/start-15490223.js","/_app/inject_styles-0e3d93cc.js"]},{pattern:/^\/edit\/([^/]+?)\/?$/,params:e=>({slug:N(e[1])}),parts:[M[4]],css:["/_app/start-7f960bf4.css","/_app/Slider.svelte-34365e6b.css","/_app/[slug].svelte-b13f2ddb.css"],js:["/_app/[slug].svelte-79d53014.js","/_app/start-15490223.js","/_app/inject_styles-0e3d93cc.js","/_app/Slider.svelte-7060f00b.js"]}],endpoints:[{pattern:/^\/api\/config\/?$/,params:q,load:()=>Promise.resolve().then((function(){return P}))},{pattern:/^\/api\/auth\/?$/,params:q,load:()=>Promise.resolve().then((function(){return require("./auth.js")}))}]};exports.add_attribute=function(e,t,s){return null==t||s&&!t?"":` ${e}${!0===t?"":`=${"string"==typeof t?JSON.stringify(u(t)):`"${t}"`}`}`},exports.create_ssr_component=m,exports.each=function(e,t){let s="";for(let n=0;n<e.length;n+=1)s+=t(e[n],n);return s},exports.escape=u,exports.getContext=function(e){return l().$$.context.get(e)},exports.init=function({paths:e}){},exports.missing_component=g,exports.render=function(t,{paths:s={base:"",assets:"/."},local:n=!1,only_prerender:i=!1,get_static_file:r}={}){return e.render(t,{paths:s,local:n,template:U,manifest:I,target:"#svelte",entry:"entry-ca369e59.js",root:_,setup:G,dev:!1,amp:!1,only_prerender:i,app_dir:"_app",host:null,host_header:null,get_stack:e=>e.stack,get_static_file:r,get_amp_css:e=>css_lookup[e]})},exports.set_store_value=function(e,t,s=t){return e.set(s),t},exports.subscribe=function(e,...t){if(null==e)return r;const s=e.subscribe(...t);return s.unsubscribe?()=>s.unsubscribe():s},exports.updateSessionCache=function(e){$={User:{Username:e.Username,Password:e.Password},Session:{token:e.Username}}},exports.validate_component=d;
//# sourceMappingURL=app.js.map
