"use strict";var e=require("@sveltejs/kit/dist/renderer"),t=require("fs"),n=require("child_process"),s=require("fs/promises");function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=i(t);function o(){}function a(e){return e()}let p;function c(e){p=e}function l(){if(!p)throw new Error("Function called outside component initialization");return p}const u={'"':"&quot;","'":"&#39;","&":"&amp;","<":"&lt;",">":"&gt;"};function d(e){return String(e).replace(/["'&<>]/g,(e=>u[e]))}const g={$$render:()=>""};function f(e,t){if(!e||!e.$$render)throw"svelte:component"===t&&(t+=" this={...}"),new Error(`<${t}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);return e}let m;function v(e){function t(t,n,s,i){const r=p;c({$$:{on_destroy:m,context:new Map(r?r.$$.context:[]),on_mount:[],before_update:[],after_update:[],callbacks:Object.create(null)}});const o=e(t,n,s,i);return c(r),o}return{render:(e={},n={})=>{m=[];const s={title:"",head:"",css:new Set},i=t(s,e,{},n);return m.forEach(a),{html:i,css:{code:Array.from(s.css).map((e=>e.code)).join("\n"),map:null},head:s.title+s.head}},$$render:t}}const j=v(((e,t,n,s)=>{let{status:i}=t,{error:r}=t;return void 0===t.status&&n.status&&void 0!==i&&n.status(i),void 0===t.error&&n.error&&void 0!==r&&n.error(r),`<h1>${d(i)}</h1>\n\n<p>${d(r.message)}</p>\n\n\n${r.stack?`<pre>${d(r.stack)}</pre>`:""}`}));var A=Object.freeze({__proto__:null,default:j});const b={code:"#svelte-announcer.svelte-1j55zn5{position:absolute;left:0;top:0;clip:rect(0 0 0 0);clip-path:inset(50%);overflow:hidden;white-space:nowrap;width:1px;height:1px}",map:'{"version":3,"file":"root.svelte","sources":["root.svelte"],"sourcesContent":["\x3c!-- This file is generated by @sveltejs/kit â€” do not edit it! --\x3e\\n<script>\\n\\timport { setContext, afterUpdate, onMount } from \'svelte\';\\n\\timport ErrorComponent from \\"/_app/assets/components/error.svelte.js\\";\\n\\n\\t// error handling\\n\\texport let status = undefined;\\n\\texport let error = undefined;\\n\\n\\t// stores\\n\\texport let stores;\\n\\texport let page;\\n\\n\\texport let components;\\n\\texport let props_0 = null;\\n\\texport let props_1 = null;\\n\\n\\tconst Layout = components[0];\\n\\n\\tsetContext(\'__svelte__\', stores);\\n\\n\\t$: stores.page.set(page);\\n\\tafterUpdate(stores.page.notify);\\n\\n\\tlet mounted = false;\\n\\tlet navigated = false;\\n\\tlet title = null;\\n\\n\\tonMount(() => {\\n\\t\\tconst unsubscribe = stores.page.subscribe(() => {\\n\\t\\t\\tif (mounted) {\\n\\t\\t\\t\\tnavigated = true;\\n\\t\\t\\t\\ttitle = document.title;\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\tmounted = true;\\n\\t\\treturn unsubscribe;\\n\\t});\\n<\/script>\\n\\n<Layout {...(props_0 || {})}>\\n\\t{#if error}\\n\\t\\t<ErrorComponent {status} {error}/>\\n\\t{:else}\\n\\t\\t<svelte:component this={components[1]} {...(props_1 || {})}/>\\n\\t{/if}\\n</Layout>\\n\\n{#if mounted}\\n\\t<div id=\\"svelte-announcer\\" aria-live=\\"assertive\\" aria-atomic=\\"true\\">\\n\\t\\t{#if navigated}\\n\\t\\t\\tNavigated to {title}\\n\\t\\t{/if}\\n\\t</div>\\n{/if}\\n\\n<style>\\n\\t#svelte-announcer {\\n\\t\\tposition: absolute;\\n\\t\\tleft: 0;\\n\\t\\ttop: 0;\\n\\t\\tclip: rect(0 0 0 0);\\n\\t\\tclip-path: inset(50%);\\n\\t\\toverflow: hidden;\\n\\t\\twhite-space: nowrap;\\n\\t\\twidth: 1px;\\n\\t\\theight: 1px;\\n\\t}\\n</style>"],"names":[],"mappings":"AA0DC,iBAAiB,eAAC,CAAC,AAClB,QAAQ,CAAE,QAAQ,CAClB,IAAI,CAAE,CAAC,CACP,GAAG,CAAE,CAAC,CACN,IAAI,CAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CACnB,SAAS,CAAE,MAAM,GAAG,CAAC,CACrB,QAAQ,CAAE,MAAM,CAChB,WAAW,CAAE,MAAM,CACnB,KAAK,CAAE,GAAG,CACV,MAAM,CAAE,GAAG,AACZ,CAAC"}'},_=v(((e,t,n,s)=>{let{status:i}=t,{error:r}=t,{stores:o}=t,{page:a}=t,{components:p}=t,{props_0:c=null}=t,{props_1:u=null}=t;const m=p[0];var v;!function(e,t){l().$$.context.set(e,t)}("__svelte__",o),v=o.page.notify,l().$$.after_update.push(v);let A=!1,_=!1,y=null;return function(e){l().$$.on_mount.push(e)}((()=>{const e=o.page.subscribe((()=>{A&&(_=!0,y=document.title)}));return A=!0,e})),void 0===t.status&&n.status&&void 0!==i&&n.status(i),void 0===t.error&&n.error&&void 0!==r&&n.error(r),void 0===t.stores&&n.stores&&void 0!==o&&n.stores(o),void 0===t.page&&n.page&&void 0!==a&&n.page(a),void 0===t.components&&n.components&&void 0!==p&&n.components(p),void 0===t.props_0&&n.props_0&&void 0!==c&&n.props_0(c),void 0===t.props_1&&n.props_1&&void 0!==u&&n.props_1(u),e.css.add(b),o.page.set(a),`\n\n\n${f(m,"Layout").$$render(e,Object.assign(c||{}),{},{default:()=>""+(r?`${f(j,"ErrorComponent").$$render(e,{status:i,error:r},{},{})}`:`${f(p[1]||g,"svelte:component").$$render(e,Object.assign(u||{}),{},{})}`)})}\n\n${A?`<div id="svelte-announcer" aria-live="assertive" aria-atomic="true" class="svelte-1j55zn5">${_?`Navigated to ${d(y)}`:""}</div>`:""}`}));
/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */
var y=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var n={},s=t||{},i=e.split(C),r=s.decode||h,o=0;o<i.length;o++){var a=i[o],p=a.indexOf("=");if(!(p<0)){var c=a.substr(0,p).trim(),l=a.substr(++p,a.length).trim();'"'==l[0]&&(l=l.slice(1,-1)),null==n[c]&&(n[c]=$(l,r))}}return n},h=decodeURIComponent,C=/; */;function $(e,t){try{return t(e)}catch(t){return e}}let z;async function x(e){if(z)return z;r.default.readFile("auth.json","utf8",(function(t,n){return authObj=JSON.parse(n),authObj&&authObj.Session?authObj.Session.token&&authObj.Session.token==e?authObj.User:void 0:void console.log("No session found on file.")}))}const w=process.env.KEGUIHome;let k;async function S(){if(k)return k;n.exec(`python3 ${w}/static/constants.py`,((e,t,n)=>e?err:(k=JSON.parse(t),k)))}const O=process.env.KEGUIHome;let E;function B(){return JSON.parse(r.default.readFileSync(`${O}/etc/config.json`,(function(e,t){e&&console.log("Failed to read config file")})))}async function G(){return E||(res=await s.readFile(`${O}/etc/config.json`,"utf8").then((e=>(E=JSON.parse(e),E))).catch((function(e){return console.error(e),{}})))}var N=Object.freeze({__proto__:null,get:G,post:async function(e){const t=JSON.parse(e.body);return res=await s.writeFile(`${O}/etc/config.json`,JSON.stringify(t,null,2)).then((()=>(E=B(),{body:{ret:1,message:"Config updated",config:E}}))).catch((function(e){return{body:{ret:0,message:"Config failed to update: "+e,config:E}}}))},put:async function(e){const t=e.body.id;let n=E;n.views[t].enabled=!n.views[t].enabled;let i=0;for(key in n.views)if(n.views[key].enabled){i=1;break}return 0===i?(n.views[t].enabled=!n.views[t].enabled,{body:{ret:0,views:E,message:"Need at least one enabled view"}}):res=await s.writeFile(`${O}/etc/config.json`,JSON.stringify(n,null,2)).then((()=>(E=B(),{body:{ret:1,views:E,message:"Config updated"}}))).catch((function(e){return{body:{ret:0,message:"Config failed to update",config:E}}}))}});var P=Object.freeze({__proto__:null,prepare:async function(e){let t;return e.cookie&&(t=y(e.cookie)),{context:{user:e.cookie?await x(t.ke_web_app):void 0,configuration:await G(),constants:await S()}}},getSession:function(e){return{user:e.user&&e.user&&{username:e.user.Username},actions:[],configuration:e.configuration,constants:e.constants,count:0}}});const q=({head:e,body:t})=>'<!DOCTYPE html>\n<html lang="en" class="h-100">\n  <head>\n    <meta charset="utf-8" />\n    <link rel="icon" href="/favicon.ico" />\n    <meta name="viewport" content="width=device-width, initial-scale=1" />\n    '+e+"\n\n    <link rel='stylesheet' href='/css/bootstrap.min.css'>\n    <link rel='stylesheet' href='/css/floating-labels.css'>\n\n  </head>\n  <body id=\"svelte\" class=\"d-flex flex-column\">\n    "+t+"\n  </body>\n  <script defer src='/js/bootstrap.min.js'><\/script>\n</html>\n";const U=decodeURIComponent,M=()=>({}),F=[()=>Promise.resolve().then((function(){return require("./index.svelte.js")})),()=>Promise.resolve().then((function(){return require("./advanced.svelte.js")})),()=>Promise.resolve().then((function(){return require("./settings.svelte.js")})),()=>Promise.resolve().then((function(){return require("./login.svelte.js")})),()=>Promise.resolve().then((function(){return require("./[slug].svelte.js")}))],I={assets:[{file:"css/bootstrap.min.css",size:145075,type:"text/css"},{file:"css/floating-labels.css",size:1712,type:"text/css"},{file:"css/ke.css",size:151,type:"text/css"},{file:"favicon.ico",size:15406,type:"image/vnd.microsoft.icon"},{file:"images/Alerts/FordWarning.png",size:2315,type:"image/png"},{file:"images/Alerts/gauge.png",size:2315,type:"image/png"},{file:"images/Alerts/warningBlock.png",size:7013,type:"image/png"},{file:"images/Background/BlackBackground.png",size:3868,type:"image/png"},{file:"images/Background/CarbonFiber.png",size:223442,type:"image/png"},{file:"images/Background/alignment.png",size:9103,type:"image/png"},{file:"images/Background/banner1.jpg",size:18600,type:"image/jpeg"},{file:"images/Background/bg.jpg",size:58523,type:"image/jpeg"},{file:"images/Background/green.jpg",size:95095,type:"image/jpeg"},{file:"images/Clock/Gauge.png",size:56425,type:"image/png"},{file:"images/Dirt/gauge.png",size:20032,type:"image/png"},{file:"images/Dirt/needle.png",size:24328,type:"image/png"},{file:"images/Glow/gauge.png",size:46894,type:"image/png"},{file:"images/Glow/needle.png",size:1691,type:"image/png"},{file:"images/Linear/gauge.png",size:645,type:"image/png"},{file:"images/Stock/gauge.png",size:49334,type:"image/png"},{file:"images/Stock/needle.png",size:12646,type:"image/png"},{file:"images/StockRS/gauge.png",size:51697,type:"image/png"},{file:"images/StockRS/needle.png",size:10993,type:"image/png"},{file:"images/Stock_orange/gauge.png",size:17507,type:"image/png"},{file:"images/Stock_orange/needle.png",size:12646,type:"image/png"},{file:"images/logo.png",size:14975,type:"image/png"},{file:"js/bootstrap.bundle.js",size:246809,type:"application/javascript"},{file:"js/bootstrap.bundle.js.map",size:438468,type:"application/json"},{file:"js/bootstrap.bundle.min.js",size:84408,type:"application/javascript"},{file:"js/bootstrap.bundle.min.js.map",size:338719,type:"application/json"},{file:"js/bootstrap.esm.js",size:144926,type:"application/javascript"},{file:"js/bootstrap.esm.js.map",size:282055,type:"application/json"},{file:"js/bootstrap.esm.min.js",size:79148,type:"application/javascript"},{file:"js/bootstrap.esm.min.js.map",size:221500,type:"application/json"},{file:"js/bootstrap.js",size:153916,type:"application/javascript"},{file:"js/bootstrap.js.map",size:283267,type:"application/json"},{file:"js/bootstrap.min.css.map",size:588906,type:"application/json"},{file:"js/bootstrap.min.js",size:63450,type:"application/javascript"},{file:"js/bootstrap.min.js.map",size:214935,type:"application/json"},{file:"robots.txt",size:67,type:"text/plain"}],layout:()=>Promise.resolve().then((function(){return require("./$layout.svelte.js")})),error:()=>Promise.resolve().then((function(){return A})),pages:[{pattern:/^\/$/,params:M,parts:[F[0]],css:["/_app/start-7f960bf4.css","/_app/Slider.svelte-34365e6b.css","/_app/index.svelte-da4ffcfc.css"],js:["/_app/index.svelte-d5217e6f.js","/_app/start-55c7e715.js","/_app/inject_styles-0e3d93cc.js","/_app/Slider.svelte-c47d4ffd.js"]},{pattern:/^\/advanced\/?$/,params:M,parts:[F[1]],css:["/_app/start-7f960bf4.css","/_app/advanced.svelte-85c94d04.css"],js:["/_app/advanced.svelte-6606da68.js","/_app/start-55c7e715.js","/_app/inject_styles-0e3d93cc.js"]},{pattern:/^\/settings\/?$/,params:M,parts:[F[2]],css:["/_app/start-7f960bf4.css"],js:["/_app/settings.svelte-34210f4d.js","/_app/start-55c7e715.js","/_app/inject_styles-0e3d93cc.js"]},{pattern:/^\/login\/?$/,params:M,parts:[F[3]],css:["/_app/start-7f960bf4.css"],js:["/_app/login.svelte-546a1b23.js","/_app/start-55c7e715.js","/_app/inject_styles-0e3d93cc.js"]},{pattern:/^\/edit\/([^/]+?)\/?$/,params:e=>({slug:U(e[1])}),parts:[F[4]],css:["/_app/start-7f960bf4.css","/_app/Slider.svelte-34365e6b.css","/_app/[slug].svelte-b13f2ddb.css"],js:["/_app/[slug].svelte-0a3f6bc2.js","/_app/start-55c7e715.js","/_app/inject_styles-0e3d93cc.js","/_app/Slider.svelte-c47d4ffd.js"]}],endpoints:[{pattern:/^\/api\/config\/?$/,params:M,load:()=>Promise.resolve().then((function(){return N}))},{pattern:/^\/api\/auth\/?$/,params:M,load:()=>Promise.resolve().then((function(){return require("./auth.js")}))}]};exports.add_attribute=function(e,t,n){return null==t||n&&!t?"":` ${e}${!0===t?"":`=${"string"==typeof t?JSON.stringify(d(t)):`"${t}"`}`}`},exports.create_ssr_component=v,exports.each=function(e,t){let n="";for(let s=0;s<e.length;s+=1)n+=t(e[s],s);return n},exports.escape=d,exports.getContext=function(e){return l().$$.context.get(e)},exports.init=function({paths:e}){},exports.missing_component=g,exports.render=function(t,{paths:n={base:"",assets:"/."},local:s=!1,only_prerender:i=!1,get_static_file:r}={}){return e.render(t,{paths:n,local:s,template:q,manifest:I,target:"#svelte",entry:"entry-ded4884a.js",root:_,setup:P,dev:!1,amp:!1,only_prerender:i,app_dir:"_app",host:null,host_header:null,get_stack:e=>e.stack,get_static_file:r,get_amp_css:e=>css_lookup[e]})},exports.set_store_value=function(e,t,n=t){return e.set(n),t},exports.subscribe=function(e,...t){if(null==e)return o;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n},exports.updateSessionCache=function(e){z={User:{Username:e.Username,Password:e.Password},Session:{token:e.Username}}},exports.validate_component=f;
//# sourceMappingURL=app.js.map
